- tags: [tech](/tags.md#tech)
- date: 2014-06-16

# Vim 模式、启动与文档操作

简单介绍vim下的集中模式与启动vim的几种方法

## 模式

- **正常模式**：可以在全局使用快捷命令
- **命令行模式**：在`正常模式`下输入`：`即可进入命令行模式，在地步输入 Vim 命令
- **插入模式**：输入文本内容，在正常模式下按 i, I, a, A, o, O 可进入插入模式
- **可视模式**：在正常模式下按 v 进入可视模式，这个模式下可以移动光标选中文本进行相应的操作；正常模式下按 V 可进入可视行模式，总是进行整行的选中；正常模式下按 C-V 可进入可视块模式
- **替换模式**：正常模式下按 R 即可进入替换模式

## 启动Vim

- **vim -c cmd file**: 打开 file 文件前执行 cmd 指令
- **vim -r file**: 恢复上次打开的文件
- **vim -R file**: 以只读方式打开文件，但是可以强制保存
- **vim -M file**: 以只读方式打开文件，不可以强制保存
- **vim -y num file**: 将编辑窗口的大小设为 num 行
- **vim + file**: 从文件末尾开始显示
- **vim + num file**: 从文件 num 行开始打开
- **vim + /string file**: 打开文件并且将光标停留在第一个找到的 string 上

## 文档操作

- :e file --关闭当前编辑的文件，并开启新的文件。 如果对当前文件的修改未保存，vi会警告。
- :e! file --放弃对当前文件的修改，编辑新的文件。
- :e+file -- 开始新的文件，并从文件尾开始编辑。
- :e+n file -- 开始新的文件，并从第n行开始编辑。
- :enew --编译一个未命名的新文档。(CTRL-W n)
- :e -- 重新加载当前文档。
- :e! -- 重新加载当前文档，并丢弃已做的改动。
- :e#或ctrl+^ -- 回到刚才编辑的文件，很实用。
- :f或ctrl+g -- 显示文档名，是否修改，和光标位置。
- :f filename -- 改变编辑的文件名，这时再保存相当于另存为。
- gf -- 打开以光标所在字符串为文件名的文件。
- :w -- 保存修改。
- :n1,n2w filename -- 选择性保存从某n1行到另n2行的内容。
- :wq -- 保存并退出。
- ZZ -- 保存并退出。
- :x -- 保存并退出。
- :q[uit] ——退出当前窗口。(CTRL-W q或CTRL-W CTRL-Q)
- :saveas newfilename -- 另存为
- :browse e -- 会打开一个文件浏览器让你选择要编辑的文件。 如果是终端中，则会打开netrw的文件浏览窗口； 如果是gvim，则会打开一个图形界面的浏览窗口。 实际上:browse后可以跟任何编辑文档的命令，如sp等。 用browse打开的起始目录可以由browsedir来设置：
- :set browsedir=last -- 用上次访问过的目录（默认）；
- :set browsedir=buffer -- 用当前文件所在目录；
- :set browsedir=current -- 用当前工作目录；
- :Sex -- 水平分割一个窗口，浏览文件系统；
- :Vex -- 垂直分割一个窗口，浏览文件系统；